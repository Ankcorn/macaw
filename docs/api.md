<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [Macaw][1]
    -   [Parameters][2]
    -   [template][3]
        -   [Parameters][4]
-   [Template][5]
    -   [Parameters][6]
    -   [loadFile][7]
        -   [Parameters][8]
    -   [render][9]
    -   [send][10]
        -   [Parameters][11]
    -   [load][12]
        -   [Parameters][13]

## Macaw

Constructor for the Macaw engine class.

Usually, rather than initiating this class directly, you'd use the factory
function `macaw`.

```js
const mailer = macaw({ templatesDirectory: 'emails' });
```

### Parameters

-   `options` **[object][14]** Engine options (optional, default `{}`)
    -   `options.templateFileExtension` **[string][15]** File extension appended to
           template files - defaults to `md`.
    -   `options.templatesDirectory` **[string][15]** Directory to use to look for
           template files - defaults to `emails`.
    -   `options.layoutDirectory` **[string][15]** Layouts directory name, needs to be
           a subdirectory of the templatesDirectory - defaults to `layouts`.
    -   `options.storage` **[object][14]** Define this to override the default storage
           engine, needs to be an object with a method `getObject` - defaults to
           `fsStorage`.
    -   `options.provider` **[object][14]** Specify email provider, needs to be a
           object with a method `send`, have a look at any of the included
           providers (e.g. Sendgrid) for an example on how to create your own.
    -   `options.markdown` **[object][14]** Set custom options for markdown rendering
           engine. See the [Showdown docs][16]
           for more info on valid options.
    -   `options.mjml` **[object][14]** Set custom options for the
           [MJML renderer][17].

### template

Load a template from storage, and set any variables that should be made available
within the template. Returns a Template instance.

Note that this method is async!

```js
const template = await mailer.template('newsletter', { name: 'John' });
```

#### Parameters

-   `templateName` **[string][15]** The name of the template to load, excluding directory name and extension
-   `data`  

Returns **[Promise][18]&lt;[Template][19]>** 

## Template

Constructor for the Macaw template instance.

Rather than initiating this class directly, use the `template` factory
method in the `Macaw` class.

### Parameters

-   `options`  
-   `data`  

### loadFile

Load a template file and its layout from the storage engine.

#### Parameters

-   `templatePath` **[string][15]** The template path

Returns **[Promise][18]&lt;void>** 

### render

Parse the template and return raw HTML output.

Returns **[string][15]** Parsed template HTML

### send

Send the template via the `provider` specified in the Macaw options.

Every provider requires their own set of `sendOptions`, so have a look
at the README file for the provider to find out what to pass along.

#### Parameters

-   `sendOptions` **[object][14]** Options to be passed to provider

Returns **[Promise][18]&lt;any>** Response from provider

### load

Static template loading helper.

#### Parameters

-   `templatePath` **[string][15]** Path of the template in the storage engine
-   `options` **[object][14]** Macaw instance options
-   `data` **[object][14]** Variables to pass along to renderer

Returns **[Promise][18]&lt;[Template][19]>** 

[1]: #macaw

[2]: #parameters

[3]: #template

[4]: #parameters-1

[5]: #template-1

[6]: #parameters-2

[7]: #loadfile

[8]: #parameters-3

[9]: #render

[10]: #send

[11]: #parameters-4

[12]: #load

[13]: #parameters-5

[14]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[15]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[16]: https://github.com/showdownjs/showdown#valid-options

[17]: https://github.com/mjmlio/mjml#inside-nodejs

[18]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise

[19]: #template
